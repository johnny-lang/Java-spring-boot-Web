<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Feedback for Teachers</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container" th:fragment="FeedbackDetails">
    <h3 class="my-4">Feedback for Teachers</h3>
    <form th:action="@{/feedback/add}" method="post">
        <!-- Use th:value instead of th:field -->
        <input type="hidden" name="studentId" th:value="${student.id}"/>

        <table class="table table-bordered">
            <thead>
            <tr>
                <th>Teacher Name</th>
                <th>Subject Code</th>
                <th>Subject Name</th>
                <th>Feedback</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="entry : ${schoolstaffSubjectMap}">
                <td th:text="${entry.key.name}">Teacher Name</td>
                <td th:text="${entry.value.subjectCode}">Subject Code</td>
                <td th:text="${entry.value.subjectName}">Subject Name</td>

                <td>
                    <!-- Đảm bảo khóa trong feedbackMap là ID thực tế của giáo viên -->
                    <textarea class="form-control" th:name="${entry.key.id}" rows="2" placeholder="Enter feedback"></textarea>
                </td>
            </tr>
            </tbody>
        </table>

        <div class="mt-3">
            <button type="submit" class="btn btn-primary">Submit Feedback</button>
            <a href="/students/list" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
